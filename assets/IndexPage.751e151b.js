import{Q as f}from"./QBanner.7b9f8eb5.js";import{b as q,Q as x,a as _}from"./QItem.7508c887.js";import{Q as y}from"./QList.82ae20f2.js";import{Q as $}from"./QPage.6503ee05.js";import{_ as Q,Z as p,i as b,r as o,n as B,o as c,c as M,w as e,b as t,ag as h,ah as d,Y as C,$ as I,a as k,a2 as u,a1 as i,ai as w,aj as N}from"./index.3698d03c.js";import"./use-dark.f48971e5.js";const P={props:{branche:{type:Object,default:null}},setup(s){const a=p.getItem("lesguides_userConnected");let n=b("users");const r=o(0);return B(async()=>{n.filters.value={_and:[{role:{_eq:a.role}},{id:{_neq:a.id}},{deleted:{_eq:!1}},{branche:{_eq:s.branche.id}}]},r.value=await n.count()}),{totalCount:r}}};function j(s,a,n,r,l,g){return c(),M(f,{class:"text-right",style:{height:"25vh","border-radius":"0.8rem"}},{default:e(()=>[t(y,null,{default:e(()=>[t(q,null,{default:e(()=>[t(x,null,{default:e(()=>[t(_,{class:"text-h1"},{default:e(()=>[h(d(r.totalCount),1)]),_:1}),t(_,{class:"text-h6"},{default:e(()=>[h(d(n.branche.libelle),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}var L=Q(P,[["render",j]]);const V=C({components:{statBranche:L},name:"IndexPage",setup(){const s=I();let a=b("users"),n=b("items/branches"),r=o();o(),o(),o(),o(),p.has("lesguides_userConnected")||s.push("/");const l=p.getItem("lesguides_userConnected");return B(async()=>{a.filters.value={_and:[{role:{_eq:l.role}},{id:{_neq:l.id}},{deleted:{_eq:!1}}]},r.value=await a.count(),n.getItems()}),{countMembre:async m=>{a.filters.value={_and:[{role:{_eq:l.role}},{id:{_neq:l.id}},{branche:{_eq:m}},{deleted:{_eq:!0}}]},console.log(res)},user:l,stateBranche:n,stateUser:a,allMembre:r,tab:o("mails")}}}),S={class:"row"},U={class:"col-8 q-pa-sm"},D={key:0,class:"text-h2"},E={key:1,class:"text-h2"},F=u("br",null,null,-1),J=u("span",{class:"text-h5"}," Nous somme le 20 Janvier 2015, il est 10h30 ",-1),O={class:"col-4 q-pa-sm"},R={class:"row q-py-md"};function T(s,a,n,r,l,g){const m=k("stat-branche");return c(),M($,{padding:""},{default:e(()=>[u("div",S,[u("div",U,[t(f,{class:"text-dark",style:{height:"30vh","border-radius":"0.8rem"}},{default:e(()=>[s.user.genre.libelle==="Masculin"?(c(),i("span",D,"Bienvenue Mr "+d(s.user.last_name),1)):(c(),i("span",E,"Bienvenue Mme "+d(s.user.last_name),1)),F,J]),_:1})]),u("div",O,[t(f,{class:"bg-green-4 text-white text-right",style:{height:"30vh","border-radius":"0.8rem"}},{default:e(()=>[t(y,null,{default:e(()=>[t(q,null,{default:e(()=>[t(x,null,{default:e(()=>[t(_,{class:"text-h1"},{default:e(()=>[h(d(s.allMembre),1)]),_:1}),t(_,{class:"text-h6"},{default:e(()=>[h("Membres enregistr\xE9s")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])]),u("div",R,[(c(!0),i(N,null,w(s.stateBranche.items.value,v=>(c(),i("div",{class:"col-3 q-pa-sm",key:v.id},[t(m,{branche:v},null,8,["branche"])]))),128))])]),_:1})}var K=Q(V,[["render",T]]);export{K as default};
